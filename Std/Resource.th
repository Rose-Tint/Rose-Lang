module Std.Resource where


#[warn_unused(with)]
trait Resource a {
    impure close => a, Void;
    impure with => (a, b), a, b;
}

impl Resource {
    close f rsrc {
        let res<b> := f rsrc;
        close rsrc;
        return res;
    }
}
