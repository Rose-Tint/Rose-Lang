

impl <> Resource  {
    with f resource {
        (open resource);
        let pure <(DELAYED)>result = (f resource);
        (close resource);
        returnresult;
    }
}
export trait <> Resource a {
    impure export with<((a  b ) a  b )>
    impure export close<(a  Void )>
    impure export open<(a  Void )>
}

